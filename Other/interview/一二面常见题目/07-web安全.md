# web安全

## CSRF ： 跨站请求伪造

> 攻击原理

用户A登录新浪后，得到cookie

用户A之后登录恶意网站，被诱导着点击了一个按钮，而这个按钮访问了新浪的一些接口。

新浪认为你这个用户是合法的，就可能执行了这个接口的动作

> 防御措施

根据攻击过程，可以发现，如果想攻击成功，需要1能用户登录过，2是网站本身接口也存在漏洞

- 1. Token验证。浏览器会自动携带cookie，如果token是放在header里的，浏览器不带携带token去请求接口。会被拒绝的

- 2. Referer验证。 服务端根据这个字段判断请求来源。我决定是否拦截

- 3. 登录需要验证码

## XSS ： 跨域脚本攻击

> 攻击原理

不需要登录认证。

想办法向你的页面，注入JS脚本。JS脚本就是他想做的事情

分为反射型和存储型

> 防御措施

核心的防范措施就是，要么就是你允许用户输入JS代码，要么就是可以输入，但是用一些方法，让JS代码无法运行

比如转义，转义回去的时候，用DOM parse去处理一些内容。
